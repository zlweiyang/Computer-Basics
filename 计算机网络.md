# 网络分层与各层协议 #
OSI7层模型：1.物理层,2.数据链路层,3.网络层,4.传输层,5.会话层,6.表示层,7.应用层

TCP/IP 4层模型:1.网络接口层,2.运输层,3.网际层,4.网络接口层

五层协议：1.物理层，2.数据链路层，3.网络层，4.运输层，5.应用层。

应用层：域名系统DNS，万维网应用HTTP协议，电子邮件SMTP协议。
运输层：传输控制协议TCP,用户数据协议UDP。报文段。      
网络层:IP协议。IP数据报。     
数据链路层：封装成帧。  
物理层：数据单元为比特。


#HTTP协议
超文本传输协议

无状态：服务器不维护任何有关客户端过去所发请求的信息。

使用TCP传输服务：

服务器在80端口等待客户请求

浏览器发起到服务器的TCP连接（创建套接字Socket）

服务器接受来自浏览器的TCP连接

浏览器（HTTP客户端）与Web服务器（HTTP服务器）交换HTTP消息

关闭TCP连接

**HTTP1.0使用非持久性连接，每个TCP连接最多允许传输一个对象
HTTP1.1使用持久性连接，每个TCP连接允许传输多个对象**

HTTP协议有两类消息：请求消息(request)和响应消息(response)

**HTTP请求**

1.请求行：
请求方式：POST、GET
请求资源
协议版本

2.请求头：
客户端发给服务器端的一些信息。使用键值对表示key:value

3.请求体
当请求方式使post时，格式：username=zhangsan&password=123
如果请求方式为get，那么请求参数不会出现在请求体中。会拼接在URL地址后面
http://localhost:8080...?username=zhangsan&password=123


## HTTP的状态码 ##
- 200 OK
- 301 永久移除
- 400 Bad Request
- 404 Not Found
- 505 HTTP Version Not Surpported
# HTTPS #
HTTP+SSL(TLS)
HTTPS在传输数据之前需要客户端与服务器进行一个握手(TLS/SSL握手)，在握手过程中将确立双方加密传输数据的密码信息。

# TCP #
- 面向连接：客户机/服务器进程间需要建立连接
- 可靠的传输
- 只能一对一
- 面向字节流
- 流量控制：发送方不会发送速度过快，超过接收方的处理能力
- 拥塞控制：当网络负载过重时能够限制发送方的发送速度
## 三次握手 ##
- 客户端-发送带有SYN标志的数据包--一次握手--服务端
- 服务端-发送带有SYN/ACK标志的数据包--二次握手--客户端
- 客户端-发送带有ACK标志的数据包--三次握手--服务端

第一次握手：服务端确认客户端发送正常  
第二次握手：客户端确认自己发送、接收正常，服务端发送、接收正常；服务器确认自己接收正常，客户端发送正常。
第三次握手：客户端确认自己发送接收正常，服务器发送接收正常；服务器确认自己发送接收正常。
## 四次挥手 ##
- 客户端-发送一个FIN，用来关闭客户端到服务端的数据传输
- 服务器-收到一个FIN，它发回一个ACK，确认序号为收到的序号加1.和SYN一样，一个FIN将占用一个序号。
- 服务器-关闭与客户端的连接，发送一个FIN给客户端
- 客户端-发回ACK报文确认，并将确认序号设置为收到序号加1
## 滑动窗口 ##
## 拥塞控制 ##
## 超时重传 ##

# UDP #
- 无连接
- 不可靠数据传输
- 尽最大努力交付
- 面向报文
- 支持一对一，一对多，多对一和多对多的交互通信
- UDP首部开销小，8个字节

# IP地址 #

从输入URL到页面加载发生了什么？
总体分为以下几个过程：

- 1.DNS解析，查找域名的IP地址
- 2.TCP连接，与服务器建立TCP连接，在建立TCP连接时，需要发送数据，发送数据在网络层使用IP协议。IP数据包在路由器之间，路由选择使用OPSF协议。路由器在于服务器通信时，使用ARP协议将ip地址转换为MAC地址。
- 3.发送HTTP请求
- 4.服务器处理请求并返回HTTP报文
- 5.浏览器解析渲染页面
- 6.连接结束