# 操作系统常见知识点 #

## 1.进程与线程的区别 ##
进程是指一个具有一定独立功能的程序在一个数据集合上的一次动态执行的过程，包含正在运行的一个程序的所有状态信息，动态性，并发性，独立性以及制约性。

进程控制块(PCB)：进程标识信息，处理机现场保存，进程控制信息。

进程的状态：创建，执行，等待，抢占，唤醒，结束。

线程是进程的一部分，描述指令流执行状态，它是进程中的指令执行流的最小单元，是CPU调度的基本单位。

## 2.线程的同步方式 ##

## 3.进程的通信方式 ##

进程通信是进程进行通信和同步的机制。

**通信方式**

**间接通信**：通过内核进行通信。通过操作系统维护的**消息队列**实现进程间的消息接收和发送：1.每个消息队列都有一个唯一的标识，2.只有共享了相同的消息队列的进程才能通信。通信链路的属性：1.只有共享了**相同消息队列**的进程，才能建立连接。2.连接可以是单向或双向3.消息队列可以与多个进程相关联。4.每对进程可以共享多个消息队列。

间接通信的流程：1.创建一个新的消息队列，2.通过消息队列发送和接收消息3.销毁消息队列。

**直接通信**：线程之间通过共享信道进行通信。进程必须正确的命名对方，**通信链路的属性:**1.自动建立链路，2.一条链路恰好对应一对通信进程，3.每对进程之间只有一个链路存在，4.通信链路可以是单向也可以是双向的。

间接通信与直接通信的通信操作的区别是直接通信关注的是**接收和发送的进程**，而间接通信**关注的是消息队列**。

进程通信可以划分为阻塞和非阻塞通信，阻塞通信：1.阻塞发送：发送者在发送消息后进入等待，知道接受者成功接收 2.阻塞接收：接收者在请求接收消息后进入等待，直到成功收到一个消息。非阻塞通信：1.非阻塞发送：发送者在消息发送后，可立即进行其他操作。2.非阻塞接收:没有消息发送时，接收者在请求接收消息之后，接收不到任何消息。

通信链路缓冲：1.0容量：发送方必须等待接收方。2.有限容量：通信链路缓存队列满时，发送方必须等待。3.无限容量：发送方不需要等待。

**通信机制**

**1.信号**：进程间软件中断通知和处理机制。信号的接收处理：1.捕获，执行进程指定的信号处理函数别调用。2.忽略，执行操作系统指定的缺省处理。3.屏蔽：禁止进程接收和处理信号。确定：信息传输量小

**2.管道**:进程间基于内存文件的通信机制，子进程从父进程继承文件描述符，缺省文件描述符：0 stdin,1 stdout,2 stderr。
与管道相关的系统调用，读管道：read(fd,buffer,nbytes),scanf()是基于它实现的。写管道：write(fd,buffer,nbytes），printf()是基于它实现的。创建管道:pipe(rgfd)，rgfd是两个文件描述符组成的数组，rgfd[0]是读文件描述符。rgfd[1]是写文件描述符。

**3.消息队列：**消息队列是由操作系统维护的以字节序列为基本单位的间接通信机制
1.每个消息是一个字节序列。
2.相同标识的消息组成按先进先出顺序组成一个消息队列。

**4.共享内存**
共享内存是把同一个物理内存区域同时映射到多个进程的内存地址空间的通信机制。
进程：1.每个进程都有私有内存地址空间。2，每个进程的内存地址空间需明确设置共享内存段。
线程：同一进程中的线程总是共享相同的内存地址空间。速度快，需要加**同步机制**。
## 4.进程有哪几种状态 ##

## 5.进程调度策略 ##

## 6.什么是死锁？死锁产生的条件 ##
死锁是指由于**竞争资源**或者**通信关系**，两个或更多线程在执行中出现，永远相互**等待**只能有其他进程引发的事件。

死锁产生的条件：
1.互斥：任何时候只能有一个进程使用一个资源的实例
2.持有并等待：进程保持至少一个资源，并正在等待获取其他进程持有的资源
3.非抢占：资源只能在进程使用后自愿释放。
4.循环等待：存在等待进程集合。

## 7.死锁的基本策略和常用方法 ##
有应用进程处理死锁，操作系统则忽略死锁。
1.死锁预防：确保系统永远不会进入死锁状态。
2.死锁避免：在使用前进行判断，只允许不会出现死锁的进程请求资源。
银行家算法
3.死锁检测和恢复：在检测到运行系统进入死锁状态后，进行恢复。
死锁检测算法
## 8.分页与分段的区别 ##

## 9.局部页面置换算法的比较

- LRU算法性能比较好，但系统开销较大
- FIFO算法系统开销较小，会出现Belady现象
- Clock算法是她们的折衷

页面访问时，不动态调整页面在链表中的顺序，仅做标记。

缺页时，再把它移动到链表末尾。

- 对于未被访问的页面，Clock和LRU算法的表现一样好
- 对于被访问的页面，Clock算法不能记录准确访问的顺序，而LRU算法可以。

## 10.全局置换算法

- 1.工作集置换算法
- 2.缺页率置换算法
- 3.抖动和负载控制

